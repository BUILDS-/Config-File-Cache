[general]
metadata = ~/.offlineimap
accounts = CMU, GMail, BU, CCLUB
postsynchook = notmuch new
#autorefresh=5
#ui = Noninteractive.Quiet

[Account BU]
localrepository = LocalBU
remoterepository = RemoteBU

[Repository LocalBU]
type = Maildir
localfolders = /home/frozencemetery/Mail/BU

[Repository RemoteBU]
postsynchook = notmuch new
ssl = yes
port = 993
type = IMAP
remotehost = imap.gmail.com
remoteuser = rharwood@bu.edu
remotepass = nope
folderfilter = lambda foldername: foldername in [
      'INBOX',
      'Inbox',
      'DRAFTS',
      'Drafts',
      'Sent',
      'Sent Messages',
      '[Gmail]/Sent Mail',
      '[Gmail]/Drafts',
      '[Gmail]/drafts'
      ]
nametrans = lambda foldername: re.sub ('^\[gmail\]', 'bak',
                               re.sub ('sent_mail', 'sent',
                               re.sub ('starred', 'flagged',
                               re.sub (' ', '_', foldername.lower()))))


[Account GMail]
localrepository = LocalGMail
remoterepository = RemoteGMail

[Repository LocalGMail]
type = Maildir
localfolders = /home/frozencemetery/Mail/GMail

[Repository RemoteGMail]
postsynchook = notmuch new
ssl = yes
type = Gmail
remoteuser = threeoften@gmail.com
remotepass = nope
folderfilter = lambda foldername: foldername in [
      'INBOX',
      'Inbox',
      'DRAFTS',
      'Drafts',
      'Sent',
      'Sent Messages',
      '[Gmail]/Sent Mail'
      ]
nametrans = lambda foldername: re.sub ('^\[gmail\]', 'bak',
                               re.sub ('sent_mail', 'sent',
                               re.sub ('starred', 'flagged',
                               re.sub (' ', '_', foldername.lower()))))

[Account CMU]
localrepository = LocalCMU
remoterepository = RemoteCMU

[Repository LocalCMU]
type = Maildir
localfolders = /home/frozencemetery/Mail/CMU

[Repository RemoteCMU]
postsynchook = notmuch new
ssl = yes
type = IMAP
remotehost = cyrus.andrew.cmu.edu
remoteuser = rharwood
remotepass = nope
folderfilter = lambda foldername: foldername in [
      'INBOX', 
      'Inbox',  
      'DRAFTS', 
      'Drafts', 
      'Sent',   
      'Sent Messages',
      '[Gmail]/Sent Mail',
      'INBOX.Drafts',   
      'INBOX.Sent',   
      '[IMAP]INBOX', 
      'cmu.student.computer-club', 
      'cmu.student.computer-club.afs', 
      'cmu.student.computer-club.linux', 
      'cmu.student.computer-club.mac' 
      ]
nametrans = lambda foldername: re.sub ('^\[gmail\]', 'bak',
                               re.sub ('sent_mail', 'sent',
                               re.sub ('starred', 'flagged',
                               re.sub (' ', '_', foldername.lower()))))

[Account CCLUB]
localrepository = LocalCCLUB
remoterepository = RemoteCCLUB

[Repository LocalCCLUB]
type = Maildir
localfolders = /home/frozencemetery/Mail/CCLUB

[Repository RemoteCCLUB]
postsynchook = notmuch new
ssl = yes
type = IMAP
remotehost = imap.club.cc.cmu.edu
remoteuser = rharwood
remotepass = nope
